<h2>Your Products</h2>

<!-- Add New Product Form -->
<form (ngSubmit)="addProduct()" *ngIf="!editingProduct">
  <input [(ngModel)]="product.title" name="title" placeholder="Title" required />
  <input [(ngModel)]="product.category" name="category" placeholder="Category" required />
  <input type="number" [(ngModel)]="product.quantity" name="quantity" placeholder="Quantity" required />
  <input type="number" [(ngModel)]="product.price" name="price" placeholder="Price" required />
  <textarea [(ngModel)]="product.description" name="description" placeholder="Description"></textarea>
  <button type="submit">Add Product</button>
</form>

<!-- Edit Product Form -->
<form (ngSubmit)="updateProduct()" *ngIf="editingProduct">
  <input [(ngModel)]="editingProduct.title" name="title" required />
  <input [(ngModel)]="editingProduct.category" name="category" required />
  <input type="number" [(ngModel)]="editingProduct.quantity" name="quantity" required />
  <input type="number" [(ngModel)]="editingProduct.price" name="price" required />
  <textarea [(ngModel)]="editingProduct.description" name="description"></textarea>
  <select [(ngModel)]="editingProduct.status" name="status">
    <option value="Available">Available</option>
    <option value="Sold">Sold</option>
  </select>
  <button type="submit">Update</button>
  <button type="button" (click)="cancelEdit()">Cancel</button>
</form>

<hr />

<!-- Product List -->
<ul>
  <li *ngFor="let p of products">
    <strong>{{ p.title }}</strong> - {{ p.category }} - Qty: {{ p.quantity }} - Price: {{ p.price }} - Status: {{ p.status }}
    <button (click)="startEdit(p)">Edit</button>
    <button (click)="deleteProduct(p._id)">Delete</button>
    <button (click)="toggleStatus(p)">Toggle Status</button>
  </li>
</ul>
