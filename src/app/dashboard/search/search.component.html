<div class="max-w-xl mx-auto p-4 bg-white shadow rounded">
  <h2 class="text-xl font-semibold mb-4">Search Product by ID</h2>

  <!-- Search Input -->
  <input
    type="text"
    class="w-full border p-2 rounded mb-2"
    placeholder="Enter product ID"
    [(ngModel)]="productId"
  />

  <!-- Search Button -->
  <button
    class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full"
    (click)="search()"
    [disabled]="isLoading"
  >
    {{ isLoading ? 'Searching...' : 'Search' }}
  </button>

  <!-- Error / Success Messages -->
  <p *ngIf="error" class="text-red-600 mt-2">{{ error }}</p>
  <p *ngIf="success" class="text-green-600 mt-2">{{ success }}</p>

  <!-- Result Card -->
  <div *ngIf="product" class="mt-6 border p-4 rounded shadow-sm bg-gray-50">
    <h3 class="text-lg font-bold mb-2">{{ product.title || 'Product: N/A' }}</h3>

    <p><strong>Product ID:</strong> {{ product._id }}</p>
    <p><strong>Category:</strong> {{ product.category?.name || 'N/A' }}</p>
    
    <!-- Farm Owner Details -->
    <p><strong>Farm Owner:</strong> {{ product.farm?.username || 'Unknown' }}</p>
    <p><strong>Contact:</strong> {{ product.farm?.phone_no || 'Not provided' }}</p>
    <p><strong>Email:</strong> {{ product.farm?.email || 'N/A' }}</p>

    <p><strong>Price:</strong> KES {{ product.price }}</p>
    <p><strong>Status:</strong>
      <span
        class="px-2 py-1 rounded text-sm font-medium"
        [ngClass]="{
          'bg-green-200 text-green-800': product.status === 'Available',
          'bg-red-200 text-red-800': product.status === 'Sold'
        }"
      >
        {{ product.status }}
      </span>
    </p>

    <!-- Save Button -->
    <button
      class="mt-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
      (click)="saveSearch()"
    >
      Save Search
    </button>
  </div>
</div>
